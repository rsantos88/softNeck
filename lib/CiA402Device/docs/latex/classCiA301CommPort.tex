\hypertarget{classCiA301CommPort}{}\section{Ci\+A301\+Comm\+Port Class Reference}
\label{classCiA301CommPort}\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}


{\ttfamily \#include $<$Ci\+A301\+Comm\+Port.\+h$>$}



Inheritance diagram for Ci\+A301\+Comm\+Port\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classCiA301CommPort__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Ci\+A301\+Comm\+Port\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCiA301CommPort__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classCiA301CommPort_aae705cb5c6a405ef74a10e5220d0b08f}{Ci\+A301\+Comm\+Port} (int new\+Port\+File\+Descriptor, uint8\+\_\+t new\+\_\+id)
\item 
\hyperlink{classCiA301CommPort_a1e05c4b292cfee36ff9eeddb2c8eb4c0}{Ci\+A301\+Comm\+Port} (\hyperlink{classPortBase}{Port\+Base} $\ast$new\+\_\+port, uint8\+\_\+t new\+\_\+id)
\item 
long \hyperlink{classCiA301CommPort_a0fd0920052684589bc37bb898dcdd758}{Read\+S\+DO} (vector$<$ uint8\+\_\+t $>$ address, int subindex)
\item 
ulong \hyperlink{classCiA301CommPort_a403c1de504a2a5c36c90dd977e1bd536}{Read\+S\+DO} (const vector$<$ uint8\+\_\+t $>$ \&address)
\begin{DoxyCompactList}\small\item\em \hyperlink{classCiA301CommPort_a0fd0920052684589bc37bb898dcdd758}{Ci\+A301\+Comm\+Port\+::\+Read\+S\+DO} Waits until expected. \end{DoxyCompactList}\item 
long \hyperlink{classCiA301CommPort_a02df85ed5140d0d7a57fe0d2f6e47ea1}{Read\+N\+MT} (const vector$<$ uint8\+\_\+t $>$ \&nmt\+Code)
\item 
long \hyperlink{classCiA301CommPort_a09feb3f78831c9fbb683a85cc3bc4562}{Write\+N\+MT} (const vector$<$ uint8\+\_\+t $>$ \&nmt\+Command)
\begin{DoxyCompactList}\small\item\em Write\+N\+MT This function sends N\+MT message from node to Can\+Bus. \end{DoxyCompactList}\item 
long \hyperlink{classCiA301CommPort_a56d2c604b11363e6b287f59b68a546bd}{Write\+P\+DO} (const vector$<$ uint8\+\_\+t $>$ \&command)
\begin{DoxyCompactList}\small\item\em Write\+P\+DO This function sends P\+DO message to a node (the mode id is configured on constructor). \end{DoxyCompactList}\item 
long \hyperlink{classCiA301CommPort_a067cddaf01932fa6fa27255c61b08190}{Flush\+Buffer} ()
\item 
long \hyperlink{classCiA301CommPort_ab29e221039a2d21d1446edb09b91864e}{Flush\+Buffer} (int msgs)
\begin{DoxyCompactList}\small\item\em Flush\+Buffer Removes the msgs number of can frames from buffer. \end{DoxyCompactList}\item 
long \hyperlink{classCiA301CommPort_a4d97c27423b2323f8475f6e5c2f91575}{Write\+S\+DO} (const vector$<$ uint8\+\_\+t $>$ \&address, const vector$<$ uint8\+\_\+t $>$ \&value)
\begin{DoxyCompactList}\small\item\em Write\+S\+DO Writes 4 byte value to specific address on device. This function sends S\+DO message requesting write on the object dictionary address. Also block and wait for the S\+DO msg for write ack, and returns negative if error. As it reads the ack S\+DO message, the buffer should be same size after this function returns. \end{DoxyCompactList}\item 
long \hyperlink{classCiA301CommPort_a1faf4f37530e0dd0ae4600cfb0b1d742}{Write\+P\+D\+O4} (const vector$<$ uint8\+\_\+t $>$ \&command)
\item 
long \hyperlink{classCiA301CommPort_a46534ff9e7e2a05a0b4913e4331710e5}{Read\+Error\+N\+MT} ()
\item 
long \hyperlink{classCiA301CommPort_a827f3e594b9f1e57a7b7ccb8a278404a}{Read\+P\+DO} (long number)
\item 
uint32\+\_\+t \hyperlink{classCiA301CommPort_a2e85303159577f6b3209b741e9871cc5}{data4x8to32} (const uint8\+\_\+t $\ast$in, int dlc)
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
long \hyperlink{classCiA301CommPort_a26346f83700bc8403a315be01c6508e0}{Can\+Open\+To\+Can\+Bus} (const \hyperlink{structco__msg}{co\+\_\+msg} \&\hyperlink{classCiA301CommPort_ae0f955c7141e2067307cea0b48e111d4}{input}, \hyperlink{structcan__msg}{can\+\_\+msg} \&output)
\begin{DoxyCompactList}\small\item\em Can\+Open\+To\+Can\+Bus\+: Converts a Can\+Open object or message into a Can\+Bus object or message. For this, it receives two parameters passed by reference, one of an object Can\+Open that will become the other Can\+Bus object. To do this, copy the ids, the dlc, the rtr, the ts, select the normal frame for the Can\+Bus message and finally copy the message information. \end{DoxyCompactList}\item 
long \hyperlink{classCiA301CommPort_aa16887712ea9cad534aacd4851f9190d}{Can\+Bus\+To\+Can\+Open} (const \hyperlink{structcan__msg}{can\+\_\+msg} \&\hyperlink{classCiA301CommPort_ae0f955c7141e2067307cea0b48e111d4}{input}, \hyperlink{structco__msg}{co\+\_\+msg} \&output)
\begin{DoxyCompactList}\small\item\em Can\+Bus\+To\+Can\+Open\+: It performs the inverse task to the previous function. This function converts a Can\+Bus object or message in another Can\+Open object or message both passed by reference. To do this, copy the information in the Can\+Open message Can\+Bus message data\+: the id, the dlc, the rtr, the ts and the data information which contains (the content of the message itself). \end{DoxyCompactList}\item 
ulong \hyperlink{classCiA301CommPort_a4e62245791e907b5df74e3612f8fc9ce}{Data\+To\+Int} (const uint8\+\_\+t $\ast$in, unsigned short size)
\item 
int \hyperlink{classCiA301CommPort_aeae04455e1e1a1ca1beed9478372c031}{Send\+Message} (\hyperlink{structco__msg}{co\+\_\+msg} \hyperlink{classCiA301CommPort_ae0f955c7141e2067307cea0b48e111d4}{input})
\item 
int \hyperlink{classCiA301CommPort_a700a04da67928ca50744617ece28cde5}{Send\+Can\+Message} (\hyperlink{structcan__msg}{can\+\_\+msg} \&\hyperlink{classCiA301CommPort_ae0f955c7141e2067307cea0b48e111d4}{input})
\item 
int \hyperlink{classCiA301CommPort_a02ba7069a0497e3497f3dfaec2879b54}{Wait\+For\+Read\+Message} (\hyperlink{structco__msg}{co\+\_\+msg} \&output, unsigned int can\+Index)
\item 
int \hyperlink{classCiA301CommPort_a408f53d13935a1916ca6f21d08ae135e}{Read\+Cob\+Id} (uint16\+\_\+t expected\+\_\+cobid, \hyperlink{structco__msg}{co\+\_\+msg} \&output)
\begin{DoxyCompactList}\small\item\em Ci\+A301\+Comm\+Port\+::\+Wait\+For\+Answer Read the port until expected canopen answer shows up in the port reads. \end{DoxyCompactList}\item 
int \hyperlink{classCiA301CommPort_ae62c2389b38a0e217aff7ca17a3d87b6}{read\+\_\+timeout} (int fd, \hyperlink{structcan__msg}{can\+\_\+msg} $\ast$buf, unsigned int timeout)
\item 
long \hyperlink{classCiA301CommPort_a645450ca09e07ea6da339923ceeec934}{Get\+Msg} (\hyperlink{structcan__msg}{can\+\_\+msg} \&msg)
\item 
\hyperlink{structco__msg}{co\+\_\+msg} \hyperlink{classCiA301CommPort_a2c197480112989df6bdb9ea89a649636}{Set\+Can\+Open\+Msg} (unsigned short id\+\_\+co, unsigned short rtr, vector$<$ uint8\+\_\+t $>$ co\+Data\+Frame)
\begin{DoxyCompactList}\small\item\em \hyperlink{classCiA301CommPort_a2c197480112989df6bdb9ea89a649636}{Ci\+A301\+Comm\+Port\+::\+Set\+Can\+Open\+Msg} \+: Constructs canopen message from parameters. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{classCiA301CommPort_adc50c8d333b18fcb1b5c61ca69ea05c6}{port\+File\+Descriptor}
\item 
uint8\+\_\+t \hyperlink{classCiA301CommPort_a1ae075d22fc854da21a6e691bb029fc0}{id}
\item 
\hyperlink{classPortBase}{Port\+Base} $\ast$ \hyperlink{classCiA301CommPort_a6b8366387075c99ee980d2ca79c7b7fc}{port}
\item 
bool \hyperlink{classCiA301CommPort_a579e0de814111bde3bbe18cceb76ce64}{usesockets}
\item 
\hyperlink{structcan__msg}{can\+\_\+msg} \hyperlink{classCiA301CommPort_ade81ac897a5d851d946dd7a18245b75d}{send\+\_\+msg}
\item 
\hyperlink{structcan__msg}{can\+\_\+msg} \hyperlink{classCiA301CommPort_ae0f955c7141e2067307cea0b48e111d4}{input}
\item 
vector$<$ \hyperlink{structcan__msg}{can\+\_\+msg} $>$ \hyperlink{classCiA301CommPort_a8b904f3591ecfb99fd82271343727215}{read\+Buffer}
\item 
vector$<$ unsigned int $>$ \hyperlink{classCiA301CommPort_a41b2fcb24a27e5280417db03d8cdb399}{read\+Inbox}
\end{DoxyCompactItemize}


\subsection{Constructor \& Destructor Documentation}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{Ci\+A301\+Comm\+Port(int new\+Port\+File\+Descriptor, uint8\+\_\+t new\+\_\+id)}{CiA301CommPort(int newPortFileDescriptor, uint8_t new_id)}}]{\setlength{\rightskip}{0pt plus 5cm}Ci\+A301\+Comm\+Port\+::\+Ci\+A301\+Comm\+Port (
\begin{DoxyParamCaption}
\item[{int}]{new\+Port\+File\+Descriptor, }
\item[{uint8\+\_\+t}]{new\+\_\+id}
\end{DoxyParamCaption}
)}\hypertarget{classCiA301CommPort_aae705cb5c6a405ef74a10e5220d0b08f}{}\label{classCiA301CommPort_aae705cb5c6a405ef74a10e5220d0b08f}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{Ci\+A301\+Comm\+Port(\+Port\+Base $\ast$new\+\_\+port, uint8\+\_\+t new\+\_\+id)}{CiA301CommPort(PortBase *new_port, uint8_t new_id)}}]{\setlength{\rightskip}{0pt plus 5cm}Ci\+A301\+Comm\+Port\+::\+Ci\+A301\+Comm\+Port (
\begin{DoxyParamCaption}
\item[{{\bf Port\+Base} $\ast$}]{new\+\_\+port, }
\item[{uint8\+\_\+t}]{new\+\_\+id}
\end{DoxyParamCaption}
)}\hypertarget{classCiA301CommPort_a1e05c4b292cfee36ff9eeddb2c8eb4c0}{}\label{classCiA301CommPort_a1e05c4b292cfee36ff9eeddb2c8eb4c0}


\subsection{Member Function Documentation}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Can\+Bus\+To\+Can\+Open@{Can\+Bus\+To\+Can\+Open}}
\index{Can\+Bus\+To\+Can\+Open@{Can\+Bus\+To\+Can\+Open}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{Can\+Bus\+To\+Can\+Open(const can\+\_\+msg \&input, co\+\_\+msg \&output)}{CanBusToCanOpen(const can_msg &input, co_msg &output)}}]{\setlength{\rightskip}{0pt plus 5cm}long Ci\+A301\+Comm\+Port\+::\+Can\+Bus\+To\+Can\+Open (
\begin{DoxyParamCaption}
\item[{const {\bf can\+\_\+msg} \&}]{input, }
\item[{{\bf co\+\_\+msg} \&}]{output}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCiA301CommPort_aa16887712ea9cad534aacd4851f9190d}{}\label{classCiA301CommPort_aa16887712ea9cad534aacd4851f9190d}


Can\+Bus\+To\+Can\+Open\+: It performs the inverse task to the previous function. This function converts a Can\+Bus object or message in another Can\+Open object or message both passed by reference. To do this, copy the information in the Can\+Open message Can\+Bus message data\+: the id, the dlc, the rtr, the ts and the data information which contains (the content of the message itself). 


\begin{DoxyParams}{Parameters}
{\em input} & Can message. \\
\hline
{\em output} & Can\+Open message. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Can\+Open\+To\+Can\+Bus@{Can\+Open\+To\+Can\+Bus}}
\index{Can\+Open\+To\+Can\+Bus@{Can\+Open\+To\+Can\+Bus}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{Can\+Open\+To\+Can\+Bus(const co\+\_\+msg \&input, can\+\_\+msg \&output)}{CanOpenToCanBus(const co_msg &input, can_msg &output)}}]{\setlength{\rightskip}{0pt plus 5cm}long Ci\+A301\+Comm\+Port\+::\+Can\+Open\+To\+Can\+Bus (
\begin{DoxyParamCaption}
\item[{const {\bf co\+\_\+msg} \&}]{input, }
\item[{{\bf can\+\_\+msg} \&}]{output}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCiA301CommPort_a26346f83700bc8403a315be01c6508e0}{}\label{classCiA301CommPort_a26346f83700bc8403a315be01c6508e0}


Can\+Open\+To\+Can\+Bus\+: Converts a Can\+Open object or message into a Can\+Bus object or message. For this, it receives two parameters passed by reference, one of an object Can\+Open that will become the other Can\+Bus object. To do this, copy the ids, the dlc, the rtr, the ts, select the normal frame for the Can\+Bus message and finally copy the message information. 


\begin{DoxyParams}{Parameters}
{\em input} & Can\+Open message. \\
\hline
{\em output} & Can message. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!data4x8to32@{data4x8to32}}
\index{data4x8to32@{data4x8to32}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{data4x8to32(const uint8\+\_\+t $\ast$in, int dlc)}{data4x8to32(const uint8_t *in, int dlc)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t Ci\+A301\+Comm\+Port\+::data4x8to32 (
\begin{DoxyParamCaption}
\item[{const uint8\+\_\+t $\ast$}]{in, }
\item[{int}]{dlc}
\end{DoxyParamCaption}
)}\hypertarget{classCiA301CommPort_a2e85303159577f6b3209b741e9871cc5}{}\label{classCiA301CommPort_a2e85303159577f6b3209b741e9871cc5}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Data\+To\+Int@{Data\+To\+Int}}
\index{Data\+To\+Int@{Data\+To\+Int}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{Data\+To\+Int(const uint8\+\_\+t $\ast$in, unsigned short size)}{DataToInt(const uint8_t *in, unsigned short size)}}]{\setlength{\rightskip}{0pt plus 5cm}ulong Ci\+A301\+Comm\+Port\+::\+Data\+To\+Int (
\begin{DoxyParamCaption}
\item[{const uint8\+\_\+t $\ast$}]{in, }
\item[{unsigned short}]{size}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCiA301CommPort_a4e62245791e907b5df74e3612f8fc9ce}{}\label{classCiA301CommPort_a4e62245791e907b5df74e3612f8fc9ce}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Flush\+Buffer@{Flush\+Buffer}}
\index{Flush\+Buffer@{Flush\+Buffer}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{Flush\+Buffer()}{FlushBuffer()}}]{\setlength{\rightskip}{0pt plus 5cm}long Ci\+A301\+Comm\+Port\+::\+Flush\+Buffer (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classCiA301CommPort_a067cddaf01932fa6fa27255c61b08190}{}\label{classCiA301CommPort_a067cddaf01932fa6fa27255c61b08190}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Flush\+Buffer@{Flush\+Buffer}}
\index{Flush\+Buffer@{Flush\+Buffer}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{Flush\+Buffer(int msgs)}{FlushBuffer(int msgs)}}]{\setlength{\rightskip}{0pt plus 5cm}long Ci\+A301\+Comm\+Port\+::\+Flush\+Buffer (
\begin{DoxyParamCaption}
\item[{int}]{msgs}
\end{DoxyParamCaption}
)}\hypertarget{classCiA301CommPort_ab29e221039a2d21d1446edb09b91864e}{}\label{classCiA301CommPort_ab29e221039a2d21d1446edb09b91864e}


Flush\+Buffer Removes the msgs number of can frames from buffer. 


\begin{DoxyParams}{Parameters}
{\em msgs} & Number of messages to remove. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if no error. 
\end{DoxyReturn}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Get\+Msg@{Get\+Msg}}
\index{Get\+Msg@{Get\+Msg}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{Get\+Msg(can\+\_\+msg \&msg)}{GetMsg(can_msg &msg)}}]{\setlength{\rightskip}{0pt plus 5cm}long Ci\+A301\+Comm\+Port\+::\+Get\+Msg (
\begin{DoxyParamCaption}
\item[{{\bf can\+\_\+msg} \&}]{msg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCiA301CommPort_a645450ca09e07ea6da339923ceeec934}{}\label{classCiA301CommPort_a645450ca09e07ea6da339923ceeec934}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!read\+\_\+timeout@{read\+\_\+timeout}}
\index{read\+\_\+timeout@{read\+\_\+timeout}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{read\+\_\+timeout(int fd, can\+\_\+msg $\ast$buf, unsigned int timeout)}{read_timeout(int fd, can_msg *buf, unsigned int timeout)}}]{\setlength{\rightskip}{0pt plus 5cm}int Ci\+A301\+Comm\+Port\+::read\+\_\+timeout (
\begin{DoxyParamCaption}
\item[{int}]{fd, }
\item[{{\bf can\+\_\+msg} $\ast$}]{buf, }
\item[{unsigned int}]{timeout}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCiA301CommPort_ae62c2389b38a0e217aff7ca17a3d87b6}{}\label{classCiA301CommPort_ae62c2389b38a0e217aff7ca17a3d87b6}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Read\+Cob\+Id@{Read\+Cob\+Id}}
\index{Read\+Cob\+Id@{Read\+Cob\+Id}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{Read\+Cob\+Id(uint16\+\_\+t expected\+\_\+cobid, co\+\_\+msg \&output)}{ReadCobId(uint16_t expected_cobid, co_msg &output)}}]{\setlength{\rightskip}{0pt plus 5cm}int Ci\+A301\+Comm\+Port\+::\+Read\+Cob\+Id (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{expected\+\_\+cobid, }
\item[{{\bf co\+\_\+msg} \&}]{output}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCiA301CommPort_a408f53d13935a1916ca6f21d08ae135e}{}\label{classCiA301CommPort_a408f53d13935a1916ca6f21d08ae135e}


Ci\+A301\+Comm\+Port\+::\+Wait\+For\+Answer Read the port until expected canopen answer shows up in the port reads. 


\begin{DoxyParams}{Parameters}
{\em output} & Expected canopen answer. \\
\hline
{\em can\+Index} & Index of the caller. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Read\+Error\+N\+MT@{Read\+Error\+N\+MT}}
\index{Read\+Error\+N\+MT@{Read\+Error\+N\+MT}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{Read\+Error\+N\+M\+T()}{ReadErrorNMT()}}]{\setlength{\rightskip}{0pt plus 5cm}long Ci\+A301\+Comm\+Port\+::\+Read\+Error\+N\+MT (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{classCiA301CommPort_a46534ff9e7e2a05a0b4913e4331710e5}{}\label{classCiA301CommPort_a46534ff9e7e2a05a0b4913e4331710e5}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Read\+N\+MT@{Read\+N\+MT}}
\index{Read\+N\+MT@{Read\+N\+MT}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{Read\+N\+M\+T(const vector$<$ uint8\+\_\+t $>$ \&nmt\+Code)}{ReadNMT(const vector< uint8_t > &nmtCode)}}]{\setlength{\rightskip}{0pt plus 5cm}long Ci\+A301\+Comm\+Port\+::\+Read\+N\+MT (
\begin{DoxyParamCaption}
\item[{const vector$<$ uint8\+\_\+t $>$ \&}]{nmt\+Code}
\end{DoxyParamCaption}
)}\hypertarget{classCiA301CommPort_a02df85ed5140d0d7a57fe0d2f6e47ea1}{}\label{classCiA301CommPort_a02df85ed5140d0d7a57fe0d2f6e47ea1}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Read\+P\+DO@{Read\+P\+DO}}
\index{Read\+P\+DO@{Read\+P\+DO}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{Read\+P\+D\+O(long number)}{ReadPDO(long number)}}]{\setlength{\rightskip}{0pt plus 5cm}long Ci\+A301\+Comm\+Port\+::\+Read\+P\+DO (
\begin{DoxyParamCaption}
\item[{long}]{number}
\end{DoxyParamCaption}
)}\hypertarget{classCiA301CommPort_a827f3e594b9f1e57a7b7ccb8a278404a}{}\label{classCiA301CommPort_a827f3e594b9f1e57a7b7ccb8a278404a}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Read\+S\+DO@{Read\+S\+DO}}
\index{Read\+S\+DO@{Read\+S\+DO}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{Read\+S\+D\+O(vector$<$ uint8\+\_\+t $>$ address, int subindex)}{ReadSDO(vector< uint8_t > address, int subindex)}}]{\setlength{\rightskip}{0pt plus 5cm}long Ci\+A301\+Comm\+Port\+::\+Read\+S\+DO (
\begin{DoxyParamCaption}
\item[{vector$<$ uint8\+\_\+t $>$}]{address, }
\item[{int}]{subindex}
\end{DoxyParamCaption}
)}\hypertarget{classCiA301CommPort_a0fd0920052684589bc37bb898dcdd758}{}\label{classCiA301CommPort_a0fd0920052684589bc37bb898dcdd758}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Read\+S\+DO@{Read\+S\+DO}}
\index{Read\+S\+DO@{Read\+S\+DO}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{Read\+S\+D\+O(const vector$<$ uint8\+\_\+t $>$ \&address)}{ReadSDO(const vector< uint8_t > &address)}}]{\setlength{\rightskip}{0pt plus 5cm}ulong Ci\+A301\+Comm\+Port\+::\+Read\+S\+DO (
\begin{DoxyParamCaption}
\item[{const vector$<$ uint8\+\_\+t $>$ \&}]{address}
\end{DoxyParamCaption}
)}\hypertarget{classCiA301CommPort_a403c1de504a2a5c36c90dd977e1bd536}{}\label{classCiA301CommPort_a403c1de504a2a5c36c90dd977e1bd536}


\hyperlink{classCiA301CommPort_a0fd0920052684589bc37bb898dcdd758}{Ci\+A301\+Comm\+Port\+::\+Read\+S\+DO} Waits until expected. 


\begin{DoxyParams}{Parameters}
{\em can} & S\+DO address \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Send\+Can\+Message@{Send\+Can\+Message}}
\index{Send\+Can\+Message@{Send\+Can\+Message}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{Send\+Can\+Message(can\+\_\+msg \&input)}{SendCanMessage(can_msg &input)}}]{\setlength{\rightskip}{0pt plus 5cm}int Ci\+A301\+Comm\+Port\+::\+Send\+Can\+Message (
\begin{DoxyParamCaption}
\item[{{\bf can\+\_\+msg} \&}]{input}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCiA301CommPort_a700a04da67928ca50744617ece28cde5}{}\label{classCiA301CommPort_a700a04da67928ca50744617ece28cde5}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Send\+Message@{Send\+Message}}
\index{Send\+Message@{Send\+Message}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{Send\+Message(co\+\_\+msg input)}{SendMessage(co_msg input)}}]{\setlength{\rightskip}{0pt plus 5cm}int Ci\+A301\+Comm\+Port\+::\+Send\+Message (
\begin{DoxyParamCaption}
\item[{{\bf co\+\_\+msg}}]{input}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCiA301CommPort_aeae04455e1e1a1ca1beed9478372c031}{}\label{classCiA301CommPort_aeae04455e1e1a1ca1beed9478372c031}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Set\+Can\+Open\+Msg@{Set\+Can\+Open\+Msg}}
\index{Set\+Can\+Open\+Msg@{Set\+Can\+Open\+Msg}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{Set\+Can\+Open\+Msg(unsigned short id\+\_\+co, unsigned short rtr, vector$<$ uint8\+\_\+t $>$ co\+Data\+Frame)}{SetCanOpenMsg(unsigned short id_co, unsigned short rtr, vector< uint8_t > coDataFrame)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf co\+\_\+msg} Ci\+A301\+Comm\+Port\+::\+Set\+Can\+Open\+Msg (
\begin{DoxyParamCaption}
\item[{unsigned short}]{id\+\_\+co, }
\item[{unsigned short}]{rtr, }
\item[{vector$<$ uint8\+\_\+t $>$}]{co\+Data\+Frame}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCiA301CommPort_a2c197480112989df6bdb9ea89a649636}{}\label{classCiA301CommPort_a2c197480112989df6bdb9ea89a649636}


\hyperlink{classCiA301CommPort_a2c197480112989df6bdb9ea89a649636}{Ci\+A301\+Comm\+Port\+::\+Set\+Can\+Open\+Msg} \+: Constructs canopen message from parameters. 


\begin{DoxyParams}{Parameters}
{\em id\+\_\+co} & cob id canopen parameter. \\
\hline
{\em rtr} & request for remote. \\
\hline
{\em msg\+\_\+start} & \+: canopen data frame. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\+: canopen constructed message in \hyperlink{structco__msg}{co\+\_\+msg} data type. 
\end{DoxyReturn}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Wait\+For\+Read\+Message@{Wait\+For\+Read\+Message}}
\index{Wait\+For\+Read\+Message@{Wait\+For\+Read\+Message}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{Wait\+For\+Read\+Message(co\+\_\+msg \&output, unsigned int can\+Index)}{WaitForReadMessage(co_msg &output, unsigned int canIndex)}}]{\setlength{\rightskip}{0pt plus 5cm}int Ci\+A301\+Comm\+Port\+::\+Wait\+For\+Read\+Message (
\begin{DoxyParamCaption}
\item[{{\bf co\+\_\+msg} \&}]{output, }
\item[{unsigned int}]{can\+Index}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCiA301CommPort_a02ba7069a0497e3497f3dfaec2879b54}{}\label{classCiA301CommPort_a02ba7069a0497e3497f3dfaec2879b54}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Write\+N\+MT@{Write\+N\+MT}}
\index{Write\+N\+MT@{Write\+N\+MT}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{Write\+N\+M\+T(const vector$<$ uint8\+\_\+t $>$ \&nmt\+Command)}{WriteNMT(const vector< uint8_t > &nmtCommand)}}]{\setlength{\rightskip}{0pt plus 5cm}long Ci\+A301\+Comm\+Port\+::\+Write\+N\+MT (
\begin{DoxyParamCaption}
\item[{const vector$<$ uint8\+\_\+t $>$ \&}]{nmt\+Command}
\end{DoxyParamCaption}
)}\hypertarget{classCiA301CommPort_a09feb3f78831c9fbb683a85cc3bc4562}{}\label{classCiA301CommPort_a09feb3f78831c9fbb683a85cc3bc4562}


Write\+N\+MT This function sends N\+MT message from node to Can\+Bus. 


\begin{DoxyParams}{Parameters}
{\em nmt\+Command} & The message that is sent. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if no error. 
\end{DoxyReturn}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Write\+P\+DO@{Write\+P\+DO}}
\index{Write\+P\+DO@{Write\+P\+DO}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{Write\+P\+D\+O(const vector$<$ uint8\+\_\+t $>$ \&command)}{WritePDO(const vector< uint8_t > &command)}}]{\setlength{\rightskip}{0pt plus 5cm}long Ci\+A301\+Comm\+Port\+::\+Write\+P\+DO (
\begin{DoxyParamCaption}
\item[{const vector$<$ uint8\+\_\+t $>$ \&}]{command}
\end{DoxyParamCaption}
)}\hypertarget{classCiA301CommPort_a56d2c604b11363e6b287f59b68a546bd}{}\label{classCiA301CommPort_a56d2c604b11363e6b287f59b68a546bd}


Write\+P\+DO This function sends P\+DO message to a node (the mode id is configured on constructor). 


\begin{DoxyParams}{Parameters}
{\em command} & The mesage that is sent. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if no error. 
\end{DoxyReturn}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Write\+P\+D\+O4@{Write\+P\+D\+O4}}
\index{Write\+P\+D\+O4@{Write\+P\+D\+O4}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{Write\+P\+D\+O4(const vector$<$ uint8\+\_\+t $>$ \&command)}{WritePDO4(const vector< uint8_t > &command)}}]{\setlength{\rightskip}{0pt plus 5cm}long Ci\+A301\+Comm\+Port\+::\+Write\+P\+D\+O4 (
\begin{DoxyParamCaption}
\item[{const vector$<$ uint8\+\_\+t $>$ \&}]{command}
\end{DoxyParamCaption}
)}\hypertarget{classCiA301CommPort_a1faf4f37530e0dd0ae4600cfb0b1d742}{}\label{classCiA301CommPort_a1faf4f37530e0dd0ae4600cfb0b1d742}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!Write\+S\+DO@{Write\+S\+DO}}
\index{Write\+S\+DO@{Write\+S\+DO}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{Write\+S\+D\+O(const vector$<$ uint8\+\_\+t $>$ \&address, const vector$<$ uint8\+\_\+t $>$ \&value)}{WriteSDO(const vector< uint8_t > &address, const vector< uint8_t > &value)}}]{\setlength{\rightskip}{0pt plus 5cm}long Ci\+A301\+Comm\+Port\+::\+Write\+S\+DO (
\begin{DoxyParamCaption}
\item[{const vector$<$ uint8\+\_\+t $>$ \&}]{address, }
\item[{const vector$<$ uint8\+\_\+t $>$ \&}]{value}
\end{DoxyParamCaption}
)}\hypertarget{classCiA301CommPort_a4d97c27423b2323f8475f6e5c2f91575}{}\label{classCiA301CommPort_a4d97c27423b2323f8475f6e5c2f91575}


Write\+S\+DO Writes 4 byte value to specific address on device. This function sends S\+DO message requesting write on the object dictionary address. Also block and wait for the S\+DO msg for write ack, and returns negative if error. As it reads the ack S\+DO message, the buffer should be same size after this function returns. 


\begin{DoxyParams}{Parameters}
{\em address} & The address that needs S\+DO writing. \\
\hline
{\em value} & The value that will be writed. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 if no error. Negative if error (see cerr). 
\end{DoxyReturn}


\subsection{Member Data Documentation}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!id@{id}}
\index{id@{id}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{id}{id}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t Ci\+A301\+Comm\+Port\+::id\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCiA301CommPort_a1ae075d22fc854da21a6e691bb029fc0}{}\label{classCiA301CommPort_a1ae075d22fc854da21a6e691bb029fc0}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!input@{input}}
\index{input@{input}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{input}{input}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf can\+\_\+msg} Ci\+A301\+Comm\+Port\+::input\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCiA301CommPort_ae0f955c7141e2067307cea0b48e111d4}{}\label{classCiA301CommPort_ae0f955c7141e2067307cea0b48e111d4}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!port@{port}}
\index{port@{port}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{port}{port}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Port\+Base}$\ast$ Ci\+A301\+Comm\+Port\+::port\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCiA301CommPort_a6b8366387075c99ee980d2ca79c7b7fc}{}\label{classCiA301CommPort_a6b8366387075c99ee980d2ca79c7b7fc}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!port\+File\+Descriptor@{port\+File\+Descriptor}}
\index{port\+File\+Descriptor@{port\+File\+Descriptor}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{port\+File\+Descriptor}{portFileDescriptor}}]{\setlength{\rightskip}{0pt plus 5cm}int Ci\+A301\+Comm\+Port\+::port\+File\+Descriptor\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCiA301CommPort_adc50c8d333b18fcb1b5c61ca69ea05c6}{}\label{classCiA301CommPort_adc50c8d333b18fcb1b5c61ca69ea05c6}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!read\+Buffer@{read\+Buffer}}
\index{read\+Buffer@{read\+Buffer}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{read\+Buffer}{readBuffer}}]{\setlength{\rightskip}{0pt plus 5cm}vector$<${\bf can\+\_\+msg}$>$ Ci\+A301\+Comm\+Port\+::read\+Buffer\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCiA301CommPort_a8b904f3591ecfb99fd82271343727215}{}\label{classCiA301CommPort_a8b904f3591ecfb99fd82271343727215}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!read\+Inbox@{read\+Inbox}}
\index{read\+Inbox@{read\+Inbox}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{read\+Inbox}{readInbox}}]{\setlength{\rightskip}{0pt plus 5cm}vector$<$unsigned int$>$ Ci\+A301\+Comm\+Port\+::read\+Inbox\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCiA301CommPort_a41b2fcb24a27e5280417db03d8cdb399}{}\label{classCiA301CommPort_a41b2fcb24a27e5280417db03d8cdb399}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!send\+\_\+msg@{send\+\_\+msg}}
\index{send\+\_\+msg@{send\+\_\+msg}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{send\+\_\+msg}{send_msg}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf can\+\_\+msg} Ci\+A301\+Comm\+Port\+::send\+\_\+msg\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCiA301CommPort_ade81ac897a5d851d946dd7a18245b75d}{}\label{classCiA301CommPort_ade81ac897a5d851d946dd7a18245b75d}
\index{Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}!usesockets@{usesockets}}
\index{usesockets@{usesockets}!Ci\+A301\+Comm\+Port@{Ci\+A301\+Comm\+Port}}
\subsubsection[{\texorpdfstring{usesockets}{usesockets}}]{\setlength{\rightskip}{0pt plus 5cm}bool Ci\+A301\+Comm\+Port\+::usesockets\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{classCiA301CommPort_a579e0de814111bde3bbe18cceb76ce64}{}\label{classCiA301CommPort_a579e0de814111bde3bbe18cceb76ce64}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{CiA301CommPort_8h}{Ci\+A301\+Comm\+Port.\+h}\item 
\hyperlink{CiA301CommPort_8cpp}{Ci\+A301\+Comm\+Port.\+cpp}\end{DoxyCompactItemize}
